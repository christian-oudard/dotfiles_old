# Command prefix key
set-option -g prefix C-t
bind-key t send-prefix

# Basics
bind-key : command-prompt
bind-key ? list-keys
bind-key R source-file ~/.tmux.conf \; display-message "source-file done"

# Window management
bind-key C-c new-window
bind-key C-t last-window
bind-key C-n next-window
bind-key C-p previous-window
bind-key k confirm -p "kill-window? (y/n)" kill-window
bind-key , command-prompt -I "#W" "rename-window '%%'"
bind-key '"' split-window
bind-key o select-pane -t :.+
bind-key x kill-pane

# Behavior
set-window-option -g mode-keys vi
set-option -g history-limit 10000
# In order to set gnome-terminal's reported TERM value to something that
# supports 256 colors, you have to trick it by changing the profile's startup
# command to execute with "env" instead of "tmux":
# env TERM=xterm-256color /usr/bin/tmux
set-option -g default-terminal "screen-256color"
# Prevent escape key delay in tmux + vim.
set -s escape-time 0
# Workaround tmux+vim bug in macOS Sierra
set -g default-shell $SHELL
set -g default-command "login-shell"

# Appearance
set-option -ga terminal-overrides ",xterm-256color:Tc"
set-option -g status-bg colour18
set-option -g status-fg white
set-option -g status-justify centre
set-option -g status-left ""
set-option -g status-left-length 0
set-option -g status-right ""
set-option -g status-right-length 0
set-window-option -g window-status-format "#[bg=colour18]#[fg=colour20]#F#I #W"
set-window-option -g window-status-current-format "#[bg=colour18]#[fg=colour12]#F#I #W"
set-option -g message-bg black
set-option -g message-fg green
set-option -g message-command-bg black
set-option -g message-command-fg yellow
set-window-option -g mode-bg black
set-window-option -g mode-fg brightred

# Copy and paste
bind-key c copy-mode
bind-key p paste-buffer

# Copy mode bindings
bind-key -t vi-copy C-c cancel
bind-key -t vi-copy q cancel
bind-key -t vi-copy Escape cancel

bind-key -t vi-copy d cursor-left
bind-key -t vi-copy h cursor-down
bind-key -t vi-copy t cursor-up
bind-key -t vi-copy n cursor-right

bind-key -t vi-copy Up cursor-up
bind-key -t vi-copy Down cursor-down
bind-key -t vi-copy Left cursor-left
bind-key -t vi-copy Right cursor-right

bind-key -t vi-copy C-Up scroll-up
bind-key -t vi-copy C-Down scroll-down
bind-key -t vi-copy C-b page-up
bind-key -t vi-copy C-f page-down
bind-key -t vi-copy PageUp page-up
bind-key -t vi-copy PageDown page-down

bind-key -t vi-copy Space begin-selection
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy V begin-selection
bind-key -t vi-copy C-v rectangle-toggle
bind-key -t vi-copy Enter copy-selection
bind-key -t vi-copy y copy-selection
bind-key -t vi-copy K copy-end-of-line

bind-key -t vi-copy / search-forward
bind-key -t vi-copy ? search-backward

bind-key -t vi-copy 0 start-of-line
bind-key -t vi-copy ^ back-to-indentation
bind-key -t vi-copy '$' end-of-line

bind-key -t vi-copy w next-word
bind-key -t vi-copy b previous-word
bind-key -t vi-copy e next-word-end
bind-key -t vi-copy W next-space
bind-key -t vi-copy E next-space-end
bind-key -t vi-copy B previous-space

bind-key -t vi-copy g history-top
bind-key -t vi-copy G history-bottom
bind-key -t vi-copy : goto-line

bind-key -t vi-copy D top-line
bind-key -t vi-copy M middle-line
bind-key -t vi-copy N bottom-line

bind-key -t vi-copy j search-again
bind-key -t vi-copy J search-reverse
