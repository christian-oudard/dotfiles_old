
" Open buffergator in a horizontal split, and use new keymap.
let g:buffergator_viewport_split_policy = "B"
let g:buffergator_split_size = 8
let g:buffergator_autoexpand_on_split = 0
let g:buffergator_use_new_keymap = 1

" Use current working directory for file search.
let g:ctrlp_working_path_mode = ''
let g:ctrlp_follow_symlinks = 1
let g:ctrlp_open_multiple_files = '1vr'

" Changed surround mappings for dvorak.
let g:surround_no_mappings = 1

" Custom NERDtree mappings for dvorak.
let g:NERDTreeMapJumpLastChild = "H"
let g:NERDTreeMapJumpNextSibling = "<C-h>"
let g:NERDTreeMapJumpFirstChild = "T"
let g:NERDTreeMapJumpPrevSibling = "<C-t>"
let g:NERDTreeMapDeleteBookmark = "K"
let g:NERDTreeMapOpenInTab="l"
let g:NERDTreeMapOpenInTabSilent="L"

" Syntastic settings.
let g:syntastic_python_checkers=['flake8']


""" Behavior """

set timeoutlen=500 " Use a shorter wait period for key combinations.
set scrolloff=3 " Set a margin of lines when scrolling.
set virtualedit=block " Use a free roaming cursor in block mode.
set sessionoptions=buffers " In mksession, only save buffers.

" Do tab completion for file names more like bash.
set wildmode=list:longest,list:full
set wildmenu
set wildignore+=*.pyc,*.pyo,.svn,.git,.bzr,

" Default indentation.
set tabstop=4
set shiftwidth=4
set softtabstop=4
set expandtab

" List chars
set listchars=""                  " Reset the listchars
set listchars=tab:\ \             " a tab should display as "  "
set listchars+=trail:Â·            " show trailing spaces as a middle dot
set listchars+=extends:>          " The character to show in the last column when wrap is
                                  " off and the line continues beyond the right of the screen
set listchars+=precedes:<         " The character to show in the last column when wrap is
                                  " off and the line continues beyond the right of the screen

" Filetypes
au FileType ruby,yaml setlocal softtabstop=2 tabstop=2 shiftwidth=2 expandtab


""" Key Mappings (Dvorak Layout) """

" Unmap unused, frequently accidental, or conflicting commands.
nnoremap Q <Nop>
nnoremap s <Nop>
nnoremap S <Nop>
try
    unmap <Leader>fc
    unmap <Leader>fef
    unmap <C-f>
catch
endtry


" Use easier key combinations to exit insert mode.
inoremap vw <esc>
inoremap qj <esc>

" use d, h, t, n to move left, up, down, and right
noremap d h
noremap D H
noremap h j
noremap H J
noremap gh gj
noremap t k
noremap T K
noremap gt gk
noremap n l
noremap N L

" Reassign the keys we overwrote.
noremap k d
noremap K D
noremap l t
noremap L T
noremap j n
noremap J N

" intuitive Y
noremap Y y$

" surround plugin bindings
nmap sd <Plug>Dsurround
nmap sc <Plug>Csurround
nmap sm <Plug>Ysurround
nmap ss <Plug>Yssurround
xmap s  <Plug>VSurround
xmap gs <Plug>VgSurround

" Add quotes when doing <Leader>f for Ack plugin.
noremap <Leader>f :Ack ''<Left>

" Toggle line comments
nmap <leader>/ <plug>NERDCommenterToggle<CR>
" set a larger initial size
au GUIEnter * set lines=35 columns=100

" light color scheme
set background=light

" right-click menu with copy and paste
behave mswin

" always show tab line
set showtabline=2

" font
if has("gui_macvim")
	set guifont=Inconsolata-dz:h14,Inconsolata:h14,Monaco:h14
elseif has("unix")
    set guifont=Inconsolata-dz\ 14,Inconsolata\ 14,Consolas\ 14
endif

" tabs only in gui
if has("gui_macvim")
	set guioptions=aeg
elseif has("unix")
    set guioptions=airL
endif
